```
- -- --- • /ИТЕМЫ\ • --- -- -
"Рама" велосипеда, т.е. этого скрипта. Не знаю что еще написать

IGS("Имя","unique_id")              -- добавляет услугу под названием "Имя" и с УНИКАЛЬНЫМ id "unique_id"
	-- Основные методы
	:SetDescription("Блабла")       -- текст, который будет виден при открытии подробной информации об услуге
	:SetPrice(19.95)                -- устанавливает ей цену 19,95 руб
	:SetTerm(0)                     -- срок действия услуги в днях. Если указать 0 - услуга единоразовая. Если не указать - бесконечная
	:SetCategory("Категория")       -- в главном меню будет отображаться в категории под таким названием или "разное", если не указать

	-- не очень основные, но все же основные методы
	:SetImage("http://site/img.png")-- Ссылка на "баннер" услуги. Рекомендуемый размер 1000х400 или в этом соотношении. Отобразиться в инфе о товаре
	:SetIcon("http://site/img.png") -- Иконка в соотношении 1:1. Рекомендуемый размер 100 px
	:SetStackable(true)             -- разрешает покупку нескольких штук (например, накопительные услуги, типа лимита пропов). Использовать с SetTerm() ~= 0
	:SetNetworked(true)             -- Нужна ли другим игрокам информация об этой покупке (для шарящих разработчиков) (CL IGS.PlayerPurchases(ply))

	-- Покупка итема
	:SetCanBuy(function(pl, bGlobal) end) -- вернуть сообщение об ошибке (причину отказа) без всякий false, чтобы запретить игроку покупать услугу
	:SetOnBuy(function(pl, bGlobal, iInvID) end) -- выполняется после покупки итема в инвентарь

	-- Активация
	:SetCanActivate(function(pl, global, invDbID) end) -- вернуть сообщение об ошибке, чтобы запретить покупать тул
	:SetOnActivate(function(pl) end)-- Действие, которое выполнит сервер после покупки услуги

	-- Разненькое
	:SetOnRemove(function(s64) end) -- Выполнится на сервере, когда срок годности услуги истечет
	:SetValidator(function(pl) end) -- Если вернет false, то услуга будет считаться "слетевшей" и выполнится :SetOnActivate



	-- Работает только, если есть ULX
	:SetULXGroup(group) -- Нужно указать, если итем является донат группой. Автоматически устанавливает все остальные действия
	:SetULXCommandAccess(cmd) -- Дает доступ к ULX команде на определенный срок. Например, "ulx model"

	-- Работает, если есть DarkRP
	:SetDarkRPItem(sEntClass) -- можно указать класс шипмента или энтити. Итем станет доступным только за донат
	:SetDarkRPTeam(iTeamID)   -- ID тимы это чnо-то вроде TEAM_MAYOR. Дает доступ к профе только тем, кто его покупал
	:SetDarkRPMoney(iSum)     -- при активации такой энтити игроку будет выдана указанная сумма

	-- Работает, если есть PointShop 2
	:SetPoints(iAmount)        -- Выдает обычные поинты
	:SetPremiumPoints(iAmount) -- Выдает премиум поинты

	-- Работает, если есть Leveling System
	:SetLevels(iAmount) -- Выдает уровни (Добавляет)
	:SetExp(iAmount)    -- Выдает опыт

	-- Работает со всеми гейммодами
	:SetTool(sToolName)    -- Разрешает юзать определенный tool (rope, winch, advdupe2) только донатерам и админам
	:SetEntity(sEntClass)  -- Позволяет спавнить энтити через спавн меню (Q)
	:SetWeapon(sWepClass)  -- То же, но для пушек
	:SetVehicle(sVehClass) -- А это для машин
- -- --- • \ИТЕМЫ/ • --- -- -


- -- --- • /ГРУППЫ\ • --- -- -
От категории отличается тем, что в главном меню отображается, как единый элемент
Сам группированый итем, как отдельный отображаться перестанет, чтобы не мозолить глаза чем особо полезна эта "штука"

IGS.NewGroup("Имя группы") -- Создает объект группы или возвращает существующую
	:SetIcon("http://site/img.png")      -- Ссылка на иконку в соотношении 1:1. Будет отображена на главном фрейме на кнопке группы
	:AddItem(ITEM_OBJECT,"Имя в группе") -- Если не указать имя в группе, то будет использовано стандартное название предмета
- -- --- • \ГРУППЫ/ • --- -- -


- -- --- • /ХУКИ (События)\ • --- -- -
<><><><><><><><><><><><><><><><><><><>
SHARED:

• IGS.OnServersLoaded (Без аргументов)
Вызывается после получения информации о серверах вашего проекта, где еще работает автодонат.
Если хук не вызовется, значит скрипт не загрузится

• IGS.Initialized (Без аргументов)
После полной загрузки скрипта

• IGS.OnSuccessPurchase (Игрок. client, Таблица. ITEM object, Boolean. Глобальна ли покупка, Число. ид предмета, под которым он попал в инвентарь игрока)
После успешной покупки предмета в магазине

• IGS.OnFailedPurchase  (Игрок. client, Таблица. ITEM object, Boolean. Глобальна ли покупка, Строка. Описывает ошибку)
После неудачной покупки предмета в магазине. Например, недостаточно денег или не прошла проверка :CanBuy

• IGS.PaymentStatusUpdated (Игрок, платежная сессия которого обновилась, Таблица с данными о платеже, включая mathod check, pay, error. Лень описывать данные)
Вызывается после обновления статуса пополнения счета. На клиенте первый аргумент (игрок) не передается. Вид данных: https://img.qweqwe.ovh/1494089756498.png
pay - Значит деньги переведены. error - Какая-то ошибка. check - значит человек перешел к оплате

• IGS.PlayerPurchasesLoaded (Игрок, который загрузился, Таблица покупок в формате uid > количество или же nil, если покупок нет). На клиенте только список покупок
После входа игрока на сервер с наших серверов начинают загружаться его покупки. После завершения вызывается этот хук

• IGS.OnSettingsLoaded (Без аргументов)
После получения данных для корректной работы функций IGS.GetMinCharge() и IGS.GetCurrencyPrice()
<><><><><><><><><><><><><><><><><><><>

<><><><><><><><><><><><><><><><><><><>
SERVER:

• IGS.OnActivate (Игрок, который активировал предмет, Таблица-объект предмета, который активировался)
После успешной активации итема с инвентаря. Можно использовать для выдачи дополнительных бонусов

• IGS.OnError. + method (Строка с описанием ошиибки, Таблица параметров, которые передавались вместе с запросом на сервер)
Для опытных. Вызывается в fetch.lua. Предназначен для перехвата ошибок с определенных методов. Пример перехвата: hook.Add("IGS.OnError.servers.get"
<><><><><><><><><><><><><><><><><><><>

<><><><><><><><><><><><><><><><><><><>
CLIENT:

• IGS.OnDepositWinOpen (Число. Сумма для пополнения на которую открылась менюшка. Может отсутствовать, если игрок открыл окошко самостоятельно)
При открытии окошка пополнения счета (Вот этого: https://img.qweqwe.ovh/1493842563826.png)

• IGS.OnItemInfoOpen (Таблица-объект предмета, информация которого открылась)
При открытии такого окошка: https://img.qweqwe.ovh/1493843276142.png

• IGS.CatchActivities (Панель activity, Панель сайдбар)
В хуке должен вызываться метод activity:AddTab("Название вкладки",Панель вкладки,"Путь к материалу иконки 32*32")

Если не хватает какого-то хука - дайте знать
<><><><><><><><><><><><><><><><><><><>
- -- --- • \ХУКИ (События)/ • --- -- -











Остальное
В транзакциях покупки начинаются с "P: " (purchase)
Активации купонов с "C: " (coupon)
Пополнения счета с "A: " (add funds)

Все операции с игроками проводятся по SteamID64 идентификатору. SteamID32 нигде не используется

Избегай InitPostEntity и других хуков вроде loadCustomDarkRPItems при добавлении итемов в additems.lua,
так как эти хуки могут проскочить из-за особенности загрузки скрипта

Вся остальная информация находится в комментариях к методам и функциям в коде, но я постараюсь вскоре перенести сюда
```
